(window.webpackJsonp=window.webpackJsonp||[]).push([["records"],{"0857":function(e,t,r){"use strict";var a=r("f5aa");r.n(a).a},"1ad2":function(e,t,r){},"1b70":function(e,t,r){"use strict";var a=r("91d1");r.n(a).a},6129:function(e,t,r){"use strict";var a=r("6d0c");r.n(a).a},"6d0c":function(e,t,r){},"88e1":function(e,t,r){},8990:function(e,t,r){"use strict";var a=r("93b7");r.n(a).a},"91d1":function(e,t,r){},"93b7":function(e,t,r){},b0ce:function(e,t,r){"use strict";var a=r("1ad2");r.n(a).a},b98c:function(e,t,r){"use strict";r.r(t);r("6a61");var a,n=r("cf7f"),s=r("15d4"),i={name:"EcardsRecord",data:function(){return{page:{pageSize:10,current:1},total:0,loading:!1,finished:!1,refreshing:!1,recordsList:[]}},methods:{onRefresh:function(){this.finished=!1,this.page.current=1,this.loading=!0,this.onLoad()},onLoad:function(){var r=this;setTimeout(Object(n.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.refreshing&&(r.recordsList=[],r.refreshing=!1),!(0!==r.recordsList.length&&r.recordsList.length>=r.total)){e.next=5;break}r.finished=!0,e.next=10;break;case 5:return e.next=7,r.getCheckList();case 7:t=e.sent,r.page.current++,r.recordsList=r.recordsList.concat(t);case 10:r.loading=!1;case 11:case"end":return e.stop()}},e)})),1e3)},getCheckList:(a=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={checkQueryType:1,pageSize:this.page.pageSize,current:this.page.current},e.next=3,Object(s.b)(t);case 3:if(0===(r=e.sent).code)return this.total=r.data.total,e.abrupt("return",r.data.records);e.next=9;break;case 9:this.$toast(r.msg);case 10:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}},o=(r("b0ce"),r("9ca4")),c=Object(o.a)(i,function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",[a("van-pull-refresh",{on:{refresh:r.onRefresh},model:{value:r.refreshing,callback:function(e){r.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{finished:r.finished,"finished-text":"抱歉，暂无更多纪录"},on:{load:r.onLoad},model:{value:r.loading,callback:function(e){r.loading=e},expression:"loading"}},[0<r.recordsList.length?a("div",r._l(r.recordsList,function(e,t){return a("div",{key:t,staticClass:"item"},[a("div",{staticClass:"top-name"},[a("span",[r._v(r._s(e.orderCheckDTO.updateTime||"暂无核销时间"))]),r._v(" "),a("span",[r._v("核销员："+r._s(e.orderCheckDTO.operateName||"商家"))])]),r._v(" "),a("div",{staticClass:"goods"},[a("img",{staticClass:"goods-img",attrs:{src:e.orderDetailDTO?e.orderDetailDTO.linkImg:"无",alt:""}}),r._v(" "),a("div",{staticClass:"info"},[a("div",[a("div",{staticClass:"goods-name"},[r._v(r._s(e.orderDetailDTO?e.orderDetailDTO.goodsName:"无"))]),r._v(" "),a("div",[r._v(r._s(e.orderDetailDTO?e.orderDetailDTO.specsValue:"无"))])]),r._v(" "),a("span",[r._v("数量： "+r._s(e.orderDetailDTO?e.orderDetailDTO.quantity:"无"))])])]),r._v(" "),a("div",{staticClass:"foot-price"},[a("span",[r._v("券码编号："+r._s(e.orderCheckDTO.checkNo))]),r._v(" "),a("span",[r._v("价格："),a("span",{staticClass:"goods-price"},[r._v("￥"+r._s(e.orderDetailDTO?e.orderDetailDTO.payTotalPrice:"无"))])])])])}),0):r._e()])],1)],1)},[],!1,null,"176ae9fa",null).exports,d={name:"StoreTake",data:function(){return{loading:!1,finished:!1,refreshing:!1,recordsList:[{id:1313,name:"张三",date:"2020-07-03 20:30:20",code:"9551987332"},{id:1314,name:"李四",date:"2020-07-03 20:30:20",code:"9551987332"},{id:1315,name:"罗云熙",date:"2020-07-03 20:30:20",code:"9551987332"}]}},methods:{onRefresh:function(){this.finished=!1,this.loading=!0,this.onLoad()},onLoad:function(){var t=this;setTimeout(function(){t.refreshing&&(t.recordsList=[],t.refreshing=!1);for(var e=0;e<5;e++){t.recordsList.push({name:"张东升",date:"2020-07-03 20:30:20",code:"9551987332"})}t.loading=!1,10<=t.recordsList.length&&(t.finished=!0)},1e3)}}},l=(r("6129"),{name:"VerifyRecords",components:{EcardsRecord:c,StoreTake:Object(o.a)(d,function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",[a("van-pull-refresh",{on:{refresh:r.onRefresh},model:{value:r.refreshing,callback:function(e){r.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{finished:r.finished,"finished-text":"抱歉，暂无更多纪录"},on:{load:r.onLoad},model:{value:r.loading,callback:function(e){r.loading=e},expression:"loading"}},r._l(r.recordsList,function(e,t){return a("div",{key:t,staticClass:"item"},[a("div",{staticClass:"top-name"},[a("span",[r._v(r._s(e.date))]),r._v(" "),a("span",[r._v("核销员："+r._s(e.name))])]),r._v(" "),a("div",{staticClass:"goods"},[a("img",{attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:""}}),r._v(" "),a("div",{staticClass:"info"},[a("div",[a("div",{staticClass:"goods-name"},[r._v("戴妃皇菊")]),r._v(" "),a("div",[r._v("500g")])]),r._v(" "),a("div",{staticClass:"price-wrap"},[a("span",[r._v("数量： "+r._s("1"))]),r._v(" "),a("span",[r._v("价格："),a("span",{staticClass:"goods-price"},[r._v("￥"+r._s("19.9"))])])])])])])}),0)],1)],1)},[],!1,null,"6219292f",null).exports},data:function(){return{active:0}},methods:{onClickLeft:function(){this.$router.back(-1)}}}),u=(r("0857"),r("cdac"),Object(o.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("van-nav-bar",{attrs:{title:"核销记录","left-text":"","right-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),r("van-tabs",{staticClass:"tabs",attrs:{animated:"",color:"#44B47C","title-active-color":"#202020","title-inactive-color":"#aaa"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tab",{attrs:{title:"电子卡券"}},[r("ecards-record")],1),t._v(" "),r("van-tab",{attrs:{title:"自提商品",disabled:""}},[r("store-take")],1)],1)],1)},[],!1,null,"1e0cbd7d",null));t.default=u.exports},cdac:function(e,t,r){"use strict";var a=r("88e1");r.n(a).a},f5aa:function(e,t,r){},f77c:function(e,t,r){"use strict";r.r(t);r("6a61");var a,n=r("cf7f"),s=r("15d4"),i={name:"Records",data:function(){return{page:{pageSize:10,current:1},total:0,loading:!1,finished:!1,refreshing:!1,recordsList:[]}},mounted:function(){},methods:{onClickLeft:function(){this.$router.back(-1)},onRefresh:function(){this.finished=!1,this.page.current=1,this.loading=!0,this.onLoad()},onLoad:function(){var r=this;setTimeout(Object(n.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.refreshing&&(r.recordsList=[],r.refreshing=!1),!(0!==r.recordsList.length&&r.recordsList.length>=r.total)){e.next=5;break}r.finished=!0,e.next=10;break;case 5:return e.next=7,r.getCheckList();case 7:t=e.sent,r.page.current++,r.recordsList=r.recordsList.concat(t);case 10:r.loading=!1;case 11:case"end":return e.stop()}},e)})),1e3)},getCheckList:(a=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={checkQueryType:1,pageSize:this.page.pageSize,current:this.page.current},e.next=3,Object(s.b)(t);case 3:if(0===(r=e.sent).code)return this.total=r.data.total,e.abrupt("return",r.data.records);e.next=9;break;case 9:this.$toast(r.msg);case 10:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}},o=(r("1b70"),r("8990"),r("9ca4")),c=Object(o.a)(i,function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"券码核销记录","left-text":"","right-text":"","left-arrow":""},on:{"click-left":r.onClickLeft}}),r._v(" "),a("van-pull-refresh",{on:{refresh:r.onRefresh},model:{value:r.refreshing,callback:function(e){r.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{finished:r.finished,"finished-text":"抱歉，暂无更多纪录"},on:{load:r.onLoad},model:{value:r.loading,callback:function(e){r.loading=e},expression:"loading"}},[0<r.recordsList.length?a("div",r._l(r.recordsList,function(e,t){return a("div",{key:t,staticClass:"item"},[a("van-field",{attrs:{label:"核销员：",value:e.orderCheckDTO.operateName||"商家",readonly:""}}),r._v(" "),a("van-field",{attrs:{label:"核销时间：",value:e.orderCheckDTO.updateTime||"暂无",readonly:""}}),r._v(" "),a("van-field",{attrs:{label:"券码：",value:e.orderCheckDTO.checkNo,readonly:""}})],1)}),0):r._e()])],1)],1)},[],!1,null,"18ae6880",null);t.default=c.exports}}]);