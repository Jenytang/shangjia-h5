(window.webpackJsonp=window.webpackJsonp||[]).push([["scan"],{"15d4":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var a=n("b775");function o(e){return Object(a.a)({url:"/b2c/rest/front/ordercheck/detail",method:"get",params:e})}function r(e){return Object(a.a)({url:"/b2c/rest/front/ordercheck/check",method:"post",data:e})}},"45b5":function(e,t,n){},"5cf8":function(e,t,n){"use strict";n.r(t);n("6a61");var a,o=n("cf7f"),r=n("15d4"),c=n("db46"),i={name:"Scan",components:{StreamBarcodeReader:c.b,ImageBarcodeReader:c.a},data:function(){return{code:""}},methods:{onClickLeft:function(){this.$router.back(-1)},toHandle:function(){this.$router.push("/check")},onDecode:function(e){this.code=e},onLoaded:function(){},onError:function(){this.$toast.fail("出错了")},orderDetail:(a=Object(o.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={checkNo:this.code},e.next=3,Object(r.b)(t);case 3:(n=e.sent).data&&n.data.orderDetailDTO&&n.data.setOrderCheckDTO?(this.$store.dispatch("setGoodsCheckNo",this.value),this.$store.dispatch("setGoodsDetail",n.data.orderDetailDTO),this.$store.dispatch("setOrderCheckDTO",n.data.orderCheckDTO),this.$router.push("/ecard")):this.$toast.fail("暂时无法查到对应订单");case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}},s=(n("bc4a"),n("ba6b"),n("9ca4")),d=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"扫一扫","left-text":"","right-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),n("div",{staticClass:"handle-btn",on:{click:t.toHandle}},[t._v("手动输入")]),t._v(" "),n("div",{staticClass:"code"},[n("van-field",{attrs:{disabled:"",label:"券码："},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),n("ImageBarcodeReader",{on:{decode:t.onDecode,error:t.onError}}),t._v(" "),n("StreamBarcodeReader",{staticClass:"scan-panel",on:{decode:t.onDecode,loaded:t.onLoaded}}),t._v(" "),n("div",{staticClass:"submit-btn",on:{click:t.orderDetail}},[t._v("确定")])],1)},[],!1,null,"58420a52",null);t.default=d.exports},"718d":function(e,t,n){},b775:function(e,t,n){"use strict";n("aa8d");var a=n("b89e"),o=n("cebe"),r=n.n(o),c=n("653a"),i=n("be65"),s=n.n(i),d="h5-vue-cli_token";var u=r.a.create({baseURL:"/prod-api",timeout:5e3});u.interceptors.request.use(function(e){return c.a.getters.token&&(e.headers["X-Token"]=s.a.get(d)),e},function(e){return Promise.reject(e)}),u.interceptors.response.use(function(e){var t=e.data;return 0!==t.code?(50008!==t.code&&50012!==t.code&&50014!==t.code||a.a.confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){c.a.dispatch("setToken","").then(function(){location.reload()})}),Promise.reject(new Error(t.msg||"Error"))):t},function(e){return a.a.fail({message:e.message,duration:1500}),Promise.reject(e)});t.a=u},ba6b:function(e,t,n){"use strict";var a=n("718d");n.n(a).a},bc4a:function(e,t,n){"use strict";var a=n("45b5");n.n(a).a}}]);