(window.webpackJsonp=window.webpackJsonp||[]).push([["scan"],{2423:function(t,e,n){"use strict";var r=n("5ce5");n.n(r).a},"45b5":function(t,e,n){},"5ce5":function(t,e,n){},"5cf8":function(t,e,n){"use strict";n.r(e);n("ea65"),n("6a61");var r,a,o=n("cf7f"),s=n("7b04"),c=n.n(s),i=n("15d4"),u=n("c24f"),d=(n("b059"),{name:"Scan",data:function(){return{code:""}},mounted:function(){this.getWxConfig()},methods:{getWxConfig:(a=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("1"!==sessionStorage.getItem("configStatus"))return e=window.location.href.split("#")[0],t.next=4,Object(u.a)({url:e});t.next=8;break;case 4:return n=t.sent,t.next=7,this.setWXConfig(n);case 7:sessionStorage.setItem("configStatus","1");case 8:this.scanCode();case 9:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),scanCode:function(){c.a.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){var e=t.resultStr;this.$toast(e),this.code=e,this.orderDetail()}})},onClickLeft:function(){this.$router.back(-1)},toHandle:function(){this.$router.push("/check")},onDecode:function(t){this.code=t},onLoaded:function(){},onError:function(){this.$toast.fail("出错了")},orderDetail:(r=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={checkNo:this.code},t.next=3,Object(i.c)(e);case 3:(n=t.sent).data&&n.data.orderDetailDTO&&n.data.orderCheckDTO?(this.$store.dispatch("setGoodsCheckNo",this.value),this.$store.dispatch("setGoodsDetail",n.data.orderDetailDTO),this.$store.dispatch("setOrderCheckDTO",n.data.orderCheckDTO),this.$router.push("/ecard")):this.$dialog.alert({message:"暂时无法查到对应订单"}).then(function(){r.scanCode()});case 5:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})}}),f=(n("bc4a"),n("2423"),n("9ca4")),h=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"扫一扫","left-text":"","right-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}})],1)},[],!1,null,"34095564",null);e.default=h.exports},bc4a:function(t,e,n){"use strict";var r=n("45b5");n.n(r).a}}]);