(window.webpackJsonp=window.webpackJsonp||[]).push([["scan"],{"15d4":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c});var r=n("b775");function a(t){return Object(r.a)({url:"/b2c/rest/front/ordercheck/detail",method:"get",params:t})}function o(t){return Object(r.a)({url:"/b2c/rest/front/ordercheck/check",method:"post",data:t})}function c(t){return Object(r.a)({url:"/b2c/rest/front/ordercheck/list",method:"get",params:t})}},"45b5":function(t,e,n){},"5cf8":function(t,e,n){"use strict";n.r(e);n("ea65"),n("6a61");var r,a,o=n("cf7f"),c=n("7b04"),i=n.n(c),s=n("15d4"),u=n("c24f"),d=(n("653a"),function(t){i.a.config({debug:!0,appId:t.data.appId,timestamp:t.data.timestamp,nonceStr:t.data.noticeStr,signature:t.data.signature,jsApiList:["closeWindow","scanQRCode"]}),i.a.ready(function(){i.a.checkJsApi({jsApiList:["closeWindow","scanQRCode"],success:function(){}})}),i.a.error(function(t){})}),f={name:"Scan",data:function(){return{code:""}},mounted:function(){this.getWxConfig()},methods:{getWxConfig:(a=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.location.href.split("#")[0],t.next=4,Object(u.a)({url:e});case 4:n=t.sent,d(n),this.scanCode();case 8:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),scanCode:function(){i.a.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){var e=t.resultStr;this.$toast(e)}})},onClickLeft:function(){this.$router.back(-1)},toHandle:function(){this.$router.push("/check")},onDecode:function(t){this.code=t},onLoaded:function(){},onError:function(){this.$toast.fail("出错了")},orderDetail:(r=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={checkNo:this.code},t.next=3,Object(s.c)(e);case 3:(n=t.sent).data&&n.data.orderDetailDTO&&n.data.orderCheckDTO?(this.$store.dispatch("setGoodsCheckNo",this.value),this.$store.dispatch("setGoodsDetail",n.data.orderDetailDTO),this.$store.dispatch("setOrderCheckDTO",n.data.orderCheckDTO),this.$router.push("/ecard")):this.$toast.fail("暂时无法查到对应订单");case 5:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})}},h=(n("bc4a"),n("b42e"),n("9ca4")),l=Object(h.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"扫一扫","left-text":"","right-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}})],1)},[],!1,null,"32aa63e6",null);e.default=l.exports},8757:function(t,e,n){},b42e:function(t,e,n){"use strict";var r=n("8757");n.n(r).a},b775:function(t,e,n){"use strict";n("aa8d");var r=n("b89e"),a=n("cebe"),o=n.n(a),c=n("653a"),i=n("5f87"),s=o.a.create({baseURL:"",timeout:5e3});s.interceptors.request.use(function(t){return t.headers["TENANT-ID"]="1",Object(i.a)()&&(t.headers.Auth="Bearer "+Object(i.a)()),t},function(t){return Promise.reject(t)}),s.interceptors.response.use(function(t){var e=t.data;return 0!==e.code?(401===e.code?r.a.confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){Object(i.b)(),c.a.dispatch("setToken","").then(function(){location.reload()})}):Object(r.a)(e.msg),Promise.reject(new Error(e.msg||"Error"))):e},function(t){return r.a.fail({message:t.message,duration:1500}),Promise.reject(t)}),e.a=s},bc4a:function(t,e,n){"use strict";var r=n("45b5");n.n(r).a},c24f:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});var r=n("b775");function a(t){return Object(r.a)({url:"/mbr/rest/front/mbrMchClerk/login",method:"post",data:t})}function o(t){return Object(r.a)({url:"/mbr/rest/front/mbrMchClerk/getWxAuthConfig",method:"post",data:t})}}}]);